/**
 * Grab v0.0.1
 * @author Vu Pham
 * @homepage https://github.com/vuquangpham/grab
 * @license MIT 2024
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(()=>(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t);var n="grabjs-enabled",r={down:[{eventName:"mousedown",type:["all","mouse"]},{eventName:"touchstart",type:["all","touch"]}],move:[{eventName:"mousemove",type:["all","mouse"]},{eventName:"touchmove",type:["all","touch"]}],up:[{eventName:"mouseup",type:["all","mouse"]},{eventName:"touchend",type:["all","touch"]}]};function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Date.now().toString(36)+Math.random().toString(36).slice(2)}function i(e){return"function"==typeof e}var a=function(e){var t=e.options.type;Object.keys(r).forEach((function(n){var o=r[n].filter((function(e){return e.type.includes(t)}));switch(n){case"down":u(e,n,o);break;case"move":l(e,n,o);break;case"up":f(e,n,o)}}))},c=function(e){var t=e.context,n=e.eventName,r=e.eventKey,o=e.returnedParams;n&&t.events.trigger(n,o),r&&t.events.trigger(r,o)},s=function(e){var t=e.context,n=e.eventName,r=e.eventKey;if(t.options.events){var o=t.options.events[n];i(o)&&!t.events.callbacks[n]&&t.events.on(n,o);var a=t.options.events[r]||null;i(a)&&!t.events.callbacks[r]&&t.events.on(r,a)}},u=function(e,t,n){var r=e.target,o=e.options.grab;n.forEach((function(n){var i=n.eventName;e.listeners.add(r,i,(function(n){if(o){var r=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY;e.grab.isEntered=!0,e.grab.pointer.x.start=r,e.grab.pointer.y.start=a}c({context:e,eventName:i,eventKey:t,returnedParams:[e,{event:n,type:i}]})})),s({context:e,eventName:i,eventKey:t})}))},l=function(e,t,n){var r=e.target,o=e.options.grab;n.forEach((function(n){var i=n.eventName;e.listeners.add(r,i,(function(n){var r=[e,{event:n,type:i}];if(c({context:e,eventName:i,eventKey:t,returnedParams:r}),o){var a;if(null===(a=e.grab)||void 0===a||!a.isEntered)return;var s=n.touches?n.touches[0].clientX:n.clientX,u=n.touches?n.touches[0].clientY:n.clientY;e.grab.pointer.x.end=s,e.grab.pointer.y.end=u,e.grab.distance.x=e.grab.pointer.x.end-e.grab.pointer.x.start,e.grab.distance.y=e.grab.pointer.y.end-e.grab.pointer.y.start,c({context:e,eventName:"grab",returnedParams:[].concat(r,[{grab:e.grab}])})}})),s({context:e,eventName:i,eventKey:t}),s({context:e,eventName:"grab"})}))},f=function(e,t,n){var r=e.target,o=e.options.grab;n.forEach((function(n){var i=n.eventName;e.listeners.add(r,i,(function(n){o&&(e.grab.isEntered=!1,e.grab.pointer.x.start=0,e.grab.pointer.y.start=0,e.grab.pointer.x.end=0,e.grab.pointer.y.end=0,e.grab.distance.x=0,e.grab.distance.y=0),c({context:e,eventName:i,eventKey:t,returnedParams:[e,{event:n,type:i}]})})),s({context:e,eventName:i,eventKey:t})}))};function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}var p=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callbacks={}},(t=[{key:"on",value:function(e,t){var n=this;return void 0===e||""===e?(console.warn("Wrong names"),!1):"function"!=typeof t?(console.warn("Wrong callback"),!1):(this.resolveNames(e).forEach((function(e){n.callbacks[e]instanceof Array||(n.callbacks[e]=[]),n.callbacks[e].push(t)})),this)}},{key:"off",value:function(e){var t=this;return void 0===e||""===e?(console.warn("Wrong name"),!1):(this.resolveNames(e).forEach((function(e){t.callbacks[e]&&t.callbacks[e]instanceof Array&&delete t.callbacks[e]})),this)}},{key:"trigger",value:function(e,t){var n=this;if(void 0===e||""===e)return console.warn("Wrong name"),!1;var r=t instanceof Array?t:[];this.resolveNames(e).forEach((function(e){var t=n.callbacks[e];t&&t.forEach((function(e){e.apply(n,r)}))}))}},{key:"resolveNames",value:function(e){var t=e;return(t=(t=t.replace(/[^a-zA-Z0-9 ,/.]/g,"")).replace(/[,/]+/g," ")).split(" ")}}])&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}const h=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instances=[]},t=[{key:"add",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o();if(!e||!t||!n)return console.error("The input parameters don't exist. Please check it again!"),null;var i={target:e,name:t,handler:n,id:r};i.target.addEventListener(i.name,i.handler),this.instances.push(i)}},{key:"destroy",value:function(e){var t=this.instances.findIndex((function(t){return t.id===e}));if(-1===t)return null;var n=this.instances[t];return n.target.removeEventListener(n.name,n.handler),this.instances.splice(t,1),n}},{key:"destroyAll",value:function(){this.instances.forEach((function(e){e.target.removeEventListener(e.name,e.handler)})),this.instances=[]}}],t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function j(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}var P=function(){return e=function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.target=t.target,this.target.classList.contains(n)?(console.error("The target has already initialized!"),null):(this.events=new p,this.listeners=new h,this.grab={isEntered:!1,pointer:{x:{start:0,end:0},y:{start:0,end:0}},distance:{x:0,y:0}},this.hasInitialized=((r=this).id=r.options.id,a(r),!0),this.hasInitialized?void this.target.classList.add(n):null);var r},(t=[{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"destroy",value:function(){return this.listeners.destroyAll(),this.target.classList.remove(n),Grab.destroy(this)}}])&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}var T=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instances=[]},t=[{key:"create",value:function(e){var t,n,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:o(),target:null,type:"all",grab:!0},e);if(r.target=(t=r.target,n="Target element not found! Please use correct DOM element!","string"==typeof t&&(t=document.querySelector(t),n="Target string is not valid! Please use correct CSS selector!"),t||(console.error(n),!1)),!r.target)return null;var i=new P(r);return i?(this.instances.push(i),i):null}},{key:"get",value:function(e){return this.instances.find((function(t){return t.id===e}))}},{key:"destroy",value:function(e){var t=function(t){return t.id===e.id};if(!this.instances.find(t))return!1;var n=this.instances.findIndex(t);return this.instances.splice(n,1),!0}}],t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();return window.Grab=new T,t})()));